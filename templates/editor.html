<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="roomid" content="{{.roomId}}">
    <title>Title</title>

    <style>
        #editor {
            position: absolute;
            width: 500px;
            height: 400px;
        }
    </style>
</head>

<body>


<div id="editor">
    def test_function():
        print('this function just tests')

</div>


    <script src="https://cdnjs.cloudflare.com/ajax/libs/ace/1.8.1/ace.js" integrity="sha512-qqjLKA1tYKWxtpKReCrmE8DNYVa+/gNzzeJ6SZaTi+3J+KdTXUlS3AZtcPydvb0rXWtdwE4/KCS4RjfMGeil6g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/ace/1.8.1/theme-twilight.min.js" integrity="sha512-dFk7kcyT/ImbfIW3JcvxjjJ1ZqIxNfUbqn4QoYkkeZsp0h298RuPwy81fF1ZguJp4HbCz4ToDUhl3ajkCVAIBw==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <script src="/static/index.js" type="text/javascript"></script>
<script>
    window.addEventListener('load', function(){
        // prepare the editor
        const editor = ace.edit("editor");
        editor.setTheme("ace/theme/monokai");
        editor.session.setMode("ace/mode/python");

        editor.on('change', (val) => {
            console.log(val)
            sendToWS(JSON.stringify(val))
        })

        // connect to websocket
        setupWebSocket(window.location.pathname.replace("/", ""))
    });
</script>

</body>
</html>